<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="emapMin">
	<typeAlias  alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="WeatherVO" type="com.emapMin.WeatherVO"/>

	<select id="map.getWeather" resultClass="WeatherVO">
		<![CDATA[
			SELECT time, lat, lon, air_temp, water_temp, u_current, v_current, ugrd10m, vgrd10m, fsdir, fshgt, fwaveu, fwavev
			FROM $tableName$
			WHERE EXTRACT(hour from time) = $time$
			AND ((lon >= $lon1$ AND lon <= $lon2$) OR (lon >= $lon3$ AND lon < $lon4$))
			AND lat::numeric % $degree$ = 0
			AND lon::numeric % $degree$ = 0
		]]>
	</select>
				<!-- FROM $tableName$ -->
			<!-- AND lon >= $lon1$
			AND lon <= $lon2$ -->

</sqlMap>
